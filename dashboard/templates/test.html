<!doctype html>
<html>

<head>
    <title>Test — {{test}}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <style>
        .prettyprint {
            border: 0 !important;
            margin: 0;
            max-height: 1rem;
        }

        .prettyprint:hover {
            max-height: none;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <h1>Test — {{test}}</h1>
            <table>
                <tr>
                    <td>
                        <form action="/" method="get">
                            <button class="btn btn-secondary" name="back">Dashboard</button>
                        </form>
                    </td>
                    <td>
                        <form action="/tests" method="get">
                            <button class="btn btn-secondary" name="back">Tests</button>
                        </form>
                    </td>
                    <td>
                        <form action="/authors" method="get">
                            <button class="btn btn-secondary" name="back">Authors</button>
                        </form>
                    </td>
                    <td>
                        <form action="/tests/{{test}}" method="get">
                            <button class="btn btn-primary" name="refresh">Refresh</button>
                        </form>
                    </td>
                    <td>
                        <form action="/reset/tests/{{test}}" method="post">
                            <button class="btn btn-danger" name="reset">Reset test scoreboard</button>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
    </nav>
    <table class="table table-bordered">
        <thead class="table-light">
            <tr>
                <th style="width: 5%">Score</th>
                <th style="width: 20%">Author</th>
                <th style="width: 5%">Attempts</th>
                <th style="width: 70%">Solution</th>
            </tr>
        </thead>
        <tbody>
            {% for s in submissions %}
            <tr>
                <td>
                    {% if s.1 == 100 %}
                    ✅
                    {% elif s.1 == None %}
                    ❌
                    {% else %}
                    {{s.1}}%
                    {% endif %}
                </td>
                <td><a href="/authors/{{s.0}}">{{s.0}}</a></td>
                <td>{{s.3}}</td>
                <td>
                    <pre class="prettyprint"><code>{{s.2}}</code></pre>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>

</html>